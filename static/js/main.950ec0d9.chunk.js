(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,n){e.exports={item:"ImageGalleryItem_item__2ey0n",image:"ImageGalleryItem_image__2xsbt"}},11:function(e,t,n){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}},26:function(e,t,n){e.exports={list:"ImageGallery_list__3mqUc"}},27:function(e,t,n){e.exports={button:"Button_button__3QF_k"}},32:function(e,t,n){e.exports={app:"App_app__1tA9O"}},39:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),o=n(25),i=n.n(o),s=(n(39),n(14)),l=n(4),u=n(5),h=n(7),p=n(6),b=n(8),d=n.n(b),m=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value.toLowerCase()})},e.handleSublit=function(t){t.preventDefault();var n=e.state.query;""!==n.trim()?(e.props.onSubmit(n),e.setState({query:""})):alert("Enter something")},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.query;return Object(a.jsx)("header",{className:d.a.Searchbar,children:Object(a.jsxs)("form",{onSubmit:this.handleSublit,className:d.a.SearchForm,children:[Object(a.jsx)("button",{type:"submit",className:d.a.button,children:Object(a.jsx)("span",{className:d.a.buttonLabel,children:"Search"})}),Object(a.jsx)("input",{onChange:this.handleChange,className:d.a.input,type:"text",value:e,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),n}(r.Component),j=n(10),f=n.n(j),g=function(e){var t=e.pictures,n=e.onClick;return t.map((function(e){var t=e.id,r=e.webformatURL,c=e.tags,o=e.largeImageURL;return Object(a.jsx)("li",{className:f.a.item,onClick:function(){return n(o)},children:Object(a.jsx)("img",{src:r,alt:c,className:f.a.image})},t)}))},v=n(11),y=n.n(v),O=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleOverlayClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(a.jsx)("div",{className:y.a.overlay,onClick:this.handleOverlayClick,children:Object(a.jsx)("div",{className:y.a.modal,children:Object(a.jsx)("img",{src:this.props.url,alt:""})})})}}]),n}(r.Component),_=n(26),x=n.n(_),S=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={largeImg:null},e.openModal=function(t){e.setState({largeImg:t})},e.closeModal=function(){e.setState({largeImg:null})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.largeImg,t=this.props.pictures;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("ul",{className:x.a.list,children:Object(a.jsx)(g,{pictures:t,onClick:this.openModal})}),e&&Object(a.jsx)(O,{url:e,onClose:this.closeModal})]})}}]),n}(r.Component),k=n(27),C=n.n(k),w=function(e){var t=e.onClick,n=e.title;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("button",{className:C.a.button,onClick:t,type:"button",children:n})})},q=n(28),N=n.n(q),I="https://pixabay.com/api/?key=19164111-0af009040a9c79092ee7098fb&image_type=photo&orientation=horizontal&per_page=12";var M={fetchPictures:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return N.a.get("".concat(I,"&q=").concat(e,"&page=").concat(t)).then((function(e){return e.data.hits}))}},L=n(33);function P(){return Object(a.jsx)(L.a,{color:"#3f51b5"})}var A=n(32),D=n.n(A),F=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={pictures:[],query:"",page:1,loading:!1,error:null},e.searchPictures=function(t){e.setState({query:t,pictures:[],page:1})},e.fetchPictures=function(){var t=e.state,n=t.query,a=t.page;e.setState({loading:!0}),M.fetchPictures(n,a).then((function(t){return e.setState((function(e){return{pictures:[].concat(Object(s.a)(e.pictures),Object(s.a)(t)),page:e.page+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({loading:!1})}))},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.state,a=n.query,r=n.pictures;t.query!==a&&this.fetchPictures(),t.pictures.length<r.length&&0!==t.pictures.length&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.pictures,n=e.loading;return Object(a.jsxs)("div",{className:D.a.app,children:[Object(a.jsx)(m,{onSubmit:this.searchPictures}),t.length>0&&Object(a.jsx)(S,{pictures:t}),t.length>0&&Object(a.jsx)(w,{onClick:this.fetchPictures,title:"Load More"}),n&&Object(a.jsx)(P,{})]})}}]),n}(r.Component);i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(F,{})}),document.getElementById("root"))},8:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",button:"Searchbar_button__MhnaU",buttonLabel:"Searchbar_buttonLabel__1ARrf",input:"Searchbar_input__2C4aO"}}},[[60,1,2]]]);
//# sourceMappingURL=main.950ec0d9.chunk.js.map